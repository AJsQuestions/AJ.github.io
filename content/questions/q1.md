---
title: "Trading Bot in a 100 lines of code" 
date: 2024-01-04
url: /q1
tags: ["Python", "Alpaca", "Machine Learning", "Data Science", "Quant Finance"]
author: "AJ"
summary: "I build a trading bot using a simple strategy in a 100 lines of code" 
cover:
    image: "/AJpicture.jpeg"
    relative: true
showToc: true
disableAnchoredHeadings: false
---

# Building a Trade Bot from Scratch
## In a 100 lines of code

The world of financial trading is complex; it requires thorough knowledge of a number of practical aspects of the trade cycle to successfully run a stratgy.

In this project, I tried to make trading as simple as running a cell in a jupyter notebook.

Of course there was systematic thought involved in building the bot, but the idea wasn't to develop a sophisticated strategy, rather, to develop A strategy FAST.

### 1. The Data

But first...

#### 1.1 Alpaca

Alpaca is an API first broker that allows you to trade and maintain your portfolio using their python REST API. I used Alpaca as my broker and obtained API-keys for my paper trading acccount on Alpaca, as with any other SaaS.

#### 1.2 Universe

I chose my universe of assets to be approximately 200 US ETFs chosen from a larger universe of 4000+ listed US ETFs. The criterion of selection was a threshold on the volume weighted average price having a mean of larger than a 100 in the past month. The volume weighted average price is a proxy measure for the liquidity of the asset. I preferred to deal with highly liquid ETFs.

The list of 4000+ tickers was pulled from the data vendor 12Data. They maintain an API endpoint for all 13000+ ETFs listed on all major exchanges in the world!

This is however, a matter of discretion, and not science, and one is free to choose the universe in any other way they desire, without changing the approach. It could be stocks, bonds, options, currency, crypto, or other alternatives.

#### 1.3 OLHCV Data

With our universe determined, I now pull data for the last 8 years in the following manner:

1. Declare your Alpaca API Keys
2. Set up data strcutures to store:
    - symbols to buy
    - symbols to sell
    - last close prices of symbols to buy
    - returns of symbols to buy
3. Determine training period using the datetime module
4. Pull OLHCV bar data from Alpaca API
5. 


